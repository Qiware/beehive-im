/******************************************************************************
 ** Copyright(C) 2014-2024 Qiware technology Co., Ltd
 **
 ** 文件名: comm.c
 ** 版本号: 1.0
 ** 描  述: 通用函数
 ** 作  者: # Qifeng.zou # 2017.12.27 #
 ******************************************************************************/
#include "comm.h"

/******************************************************************************
 **函数名称: power2
 **功    能: 获取>=数字的2^n值
 **输入参数:
 **     v: 需要被处理的数字
 **输出参数: NONE
 **返    回: 2^n值
 **实现描述:
 **注意事项:
 **作    者: # Qifeng.zou # 2017.12.27 19:38:58 #
 ******************************************************************************/
int power2(int v)
{
    int i, idx = 0;

    if (ISPOWEROF2(v)) {
        return v;
    }

    for (i=0; i<32; i+=1) {
        if (v & (1 << i)) {
            idx = i;
        }
    }

    return (1 << (idx+1));
}
